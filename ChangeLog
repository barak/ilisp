2002-01-16  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-sch.el (scheme): Fix ilisp-block-command, so that blocks
	ending with a comment but no newline are handled properly.

	* guile-ilisp.scm (info-message): Use the 'arglist procedure
	property when available (Guile 1.5.4 and later). 

2002-01-07  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-sbcl.el (sbcl-check-prompt): sbcl-check-prompt has become
	a dummy function. The function is set later, to take care of
	different prompts in different sbcl versions.
	(sbcl-check-prompt-sbcl<07): check-prompt version for SBCL
	version, where version < 0.7.x.
	(match-and-extract): new function.
	(sbcl-check-prompt-sbcl>=07): check-prompt for SBCL version >= 0.7.x.
	(ilisp-*sbcl<07-version*): marker-variable.
	(set-determined-sbcl-version): new function.
	(sbcl-ilisp-customize): new function for all sorts of
	customizations, after the lisp has started up.
	(sbcl-version-hook-fun): customizing hook function.
	(sbcl): the new hook-fun is added to the ilisp-init-hook-local
	hook.
	(All this will hopefully work in all Emacs versions ...)

2002-01-04  Martin Atzmueller  <martin@atzmueller.net>

	* cl-ilisp.lisp: ditto. (some #+ecl tweaks ...)

	* ilisp-kcl.el (ecl): ecl tweaks; after manual compilation of the
	ILISP *.lisp files, ecl(s)-0.5 works better.

2001-12-28  Craig Brozefsky <craig@red-bean.com>

	* ilisp-mak.el: install files which were previously commented out
	of the installation process, and minor emacs21 compat change.

	* Makefile.el: added ilisp-cl-easy-menu to list of .elc files and
	link a hyperspec interface implementation file to hyperspec.el.
	The hyperspec and cltl2 files are no longer compiled seperately in
	the Makefile, instead they are compiled by ilisp-mak.el

	* docs/ilisp.texi: minor texinfo errors removed.

	* debian/*: Improved package support under Debian, installing
	files which were previously missed due to ilisp-mak.el issues.
	Also installs info files appropriately.

	* ACKNOWLEDGMENTS: added myself to end of list.
	
2001-12-10  Paolo Amoroso  <amoroso@mclink.it>

	* extra/hyperspec-naggum.el (eval-when): replaced assignment to
	symbol function with alias definition (fix suggested by Hannu
	Koivisto <azure@iki.fi>).

	* ACKNOWLEDGMENTS: added Edmund Weitz.

	* docs/ilisp.texi (Acknowledgments): added Edmund Weitz.

	* ilisp.emacs: added comments on customizing hyperspec-naggum.el
	(patch contributed by Edmund Weitz <edi@agharta.de>).

	* extra/hyperspec-naggum.el: added support for dynamic symbol
	table and HyperSpec versions later than 3 (patch contributed by
	Edmund Weitz <edi@agharta.de>).

2001-12-07  Paolo Amoroso  <amoroso@mclink.it>

	* ild.el: added support for breakpoint stepping (patch contributed
	by Ole Rohne <ole.rohne@cern.ch>).

	* ilisp-cmu.el: added support for breakpoint stepping (patch
	contributed by Ole Rohne <ole.rohne@cern.ch>).

	* docs/ilisp.texi (Interface to Lisp debuggers): documented
	`ild-step'.
	(Acknowledgments): added Ole Rohne.
	Updated version info.

	* ACKNOWLEDGMENTS: added Ole Rohne.

2001-11-06  Martin Atzmueller  <martin@atzmueller.net>

	* sbcl.lisp (arglist): tweak due to more renamings in the
	SBCL-0.7.pre branch.
	(get-correct-fn-object): ditto.

2001-11-02  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-chs.el (clisp-hs-program): added back ANSI mode flag
	`-ansi'. Omitting it may break the Common Lisp support code, now
	or in the future.

2001-10-28  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-chs.el (clisp-hs-program): removed `-a' (deprecated, and
	besides whe should let the user decide whether he prefers ANSI
	mode) and `-q' (didn't give deserved credit) options from CLISP's
	command line.

2001-10-25  Paolo Amoroso  <amoroso@mclink.it>

        * completer.el:
        (minibuffer-prompt-end): New function for compatibility, defined
        only if not defined already.
        (completer-region): Backward movement is now limited by the end
        of the minibuffer prompt.
        (completer-match-exit): Ditto.
        (completer-minibuffer-string): Now excludes minibuffer prompt using
        minibuffer-prompt-end.
	Patch for making ILISP work with GNU Emacs 21 contributed by Hannu
	Koivisto <azure@iki.fi>.

	* docs/ilisp.texi (Configuration and compilation): The Harlequin
	Group Ltd -> Xanalys Inc.
	Updated date info.

	* INSTALLATION:
	(FIRST INSTALLATION STEP: UNPACKING AND COMPILING): The Harlequin
	Group Ltd -> Xanalys Inc.
	(LispWorks): updated and shortened.
	Patch contributed by Dave Fox <davef@xanalys.com>.

	* lispworks.lisp:
	(ilisp-callers): extended conditionalization to include LW 4.2 as
	well as 4.1, and made it more future-proof.
	(sys::define-top-loop-handler): made the definition of
	`sys::define-top-loop-handler' avaliable at macro-expansion time,
	when it is needed during compilation of this file.
	(system::*force-top-level*): added for getting an interactive
	session with ILISP under Unix.
	Patch contributed by Dave Fox <davef@xanalys.com>.

2001-10-20  Martin Atzmueller  <martin@atzmueller.net>

	* sbcl.lisp: add some more comments.

2001-10-19  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-sbcl.el (sbcl): removed hardcoded compiled-file
	extensions, e.g. "x86f", because
	- ILISP already had a general mechanism to take care of that,
	- sbcl-0.7.x uses ".fasl" instead of the former extensions.

	* cmulisp.lisp (arglist): relevant changes to THE-*-IF-DEFINED
	forms, due to changes to the macros.

	* sbcl.lisp: tweaks, to make sbcl-0.7pre (and hopefully sbcl-0.7,
	too) work with ILISP again. Used a lot of THE-SYMBOL-IF-DEFINED,
	and THE-FUNCTION-IF-DEFINED magic.
	Now it's not only necessary, to take care of differences between
	sbcl-0.7.x and sbcl-0.6.x due to absence of
	evaluator/byte-compiler in sbcl-0.7.x, but also to take care of
	renamings of various (internal) functions ...

	* cmulisp.lisp: removed exports.

	* sbcl.lisp: removed exports.

	* ilisp-pkg.lisp ("ILISP"): put the exports in one place, not in
	seperate source files (deleting stuff from sbcl.lisp,
	cmulisp.lisp).

	* cl-ilisp.lisp (the-symbol-if-defined): tweak.
	(the-function-if-defined): tweak as well, for better interface.

2001-10-05  Paolo Amoroso  <amoroso@mclink.it>

	* sbcl.lisp (SB-EVAL, ilisp-compile, arglist, source-file,
	fun-defined-from-pathname): make ILISP work with SBCL 0.pre7,
	which does not have byte compiler and SB-EVAL package (patch
	contributed by Alexey Dejneka <adejneka@comail.ru>).

2001-09-05  Paolo Amoroso  <amoroso@mclink.it>

        * INSTALLATION: added coverage of CLtL2 lookup.

        * ilisp.emacs: added sample CLtL2 configuration instructions.

        * docs/ilisp.doc: updated version info.
        (Acknowledgments): added Utz-Uwe Haus.
        (Configuration and compilation, Documentation functions): added
        coverage of CLtL2 lookup.

2001-08-27  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-def.el (ilisp-binary-extension,
	ilisp-init-binary-extension): fixed docstring typos.

2001-07-27  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* extra/cltl2.el: New file, contributed by Utz-Uwe Haus
	<haus@uuhaus.de>, for browsing the CLTL2 online edition.
	* ilisp-def.el (ilisp-*use-cltl2-interface-p*): New variable.
	* ilisp-key.el: Bind cltl2-lookup to C-z L (or C-z M-l).
	* ACKNOWLEDGMENTS, Makefile, ilisp.el: Appropriate additions.

2001-07-16  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (doc->arglist): Fix parsing of texinfo-formatted
	docstrings of 0-ary procedures.

2001-06-06  Marco Antoniotti  <marcoxa@cs.nyu.edu>

	* ACKNOWLEDGMENTS: Added (while being utterly ashamed) the credit
	to Chris McConnell, the author of the original ILISP.

2001-06-06  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (Acknowledgements): added Daniel Barlow and
	Matthias Hoelzl.

2001-06-06  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-sbcl.el (sbcl): sb changed to sbcl in call to ilisp-load-inits.

	* ilisp-doc.el (ilisp-documentation): SBLISP changed to SBCL.

	* ilisp-dia.el: SBLISP changed to SBCL.

2001-06-06  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-def.el (ilisp-*version*): set to 5.11.1.

	* README: updated version info for 5.11.1.

	* COPYING (Version, Date): update version infor for 5.11.1.

	* Makefile (Version): set to 5.11.1.

	* docs/Makefile (Version): set to 5.11.1.

	* docs/ilisp.texi: updated version info for 5.11.1.
	(Files of ILISP, How to run a Lisp process using ILISP, ILISP
	Customization): the "sblisp" dialect is now called "sbcl".

2001-06-06  Martin Atzmueller  <martin@atzmueller.net>

	* sbcl.lisp: new (ILISP 5.11) boilerplate text (from sblisp.lisp).

	* ACKNOWLEDGMENTS: add Matthias Hoelzl, who first contributed
	sblisp.lisp. add Dan Barlow to the hall of fame, too.

	* sbcl.lisp (source-file): "typo": SB-IMPL-ERRORS does not exist,
	and should be ILISP-ERRORS.

2001-06-05  Paolo Amoroso  <amoroso@mclink.it>

	* sbcl.lisp: initial release (file contributed by Daniel Barlow
	<dan@telent.net>).

	* ilisp-sbcl.el (sblisp): changed the name of the Steel Bank
	Common Lisp dialect to "sbcl".
	(sblisp-source-directory-regexp, sblisp-local-source-directory):
	removed because SBCL sources are usually unreadable in a running
	system, so it seems unlikely that they are used any more.
	(ilisp-sbcl-init-file): renamed from "ilisp-sblisp-init-file" and
	given appropriate default value.
	(ilisp-directory-command, ilisp-set-directory-command): now use
	the portable *default-pathname-defaults* code, which should work
	in 0.6.12.20 or newer.
	(comint-fix-error, ilisp-reset, comint-interrupt-regexp): updated
	to commands that work.
	Patches contributed by Daniel Barlow <dan@telent.net>.

	* Makefile (SHELL): use sh instead of csh (fix contributed by
	Daniel Barlow <dan@telent.net>).

2001-05-22  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* Makefile: Include ChangeLog and ACKNOWLEDGMENTS in the
	distribution. 

	* guile-ilisp.scm: Define module (guile-ilisp) before using it in
	module (guile-user); this is needed for Guile 1.5.

2001-05-14  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* Makefile: Put *.scm files into the distribution.

2001-05-13  Marco Antoniotti <marcoxa@cs.nyu.edu>

	Version 5.11 released.

2001-05-09  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (ilisp-get-package):  If the full module name is
	available (as is in Guile >= 1.4), use it instead of parsing the
	sequence of define-module forms.  This also works around an eval
	memoizing bug in Guile 1.5.  

	* guile-ilisp.scm:  Write all results using `write' and return no
	value.  (When the (ice-9 history) module is in use, all return
	values are prefixed, which ILISP can't parse.)

2001-04-19  Martin Atzmueller  <martin@atzmueller.net>

	* cl-ilisp.lisp: include patch - 2001 Apr 06 on ilisp-devel
        (patch contributed by Craig Brozefsky <craig@red-bean.com>):
        take care of new :CMU18 feature in the (debian) cmucl 18c version.

	* ilisp-sbcl.el (sblisp): comint-fix-error expression becomes
	":abort" instead of former ":pop".

	* sblisp.lisp: removed the "POP"-debugger command, because it is
	already handled by the abort-restart.

2001-04-10  Paolo Amoroso  <amoroso@mclink.it>

        * ilisp-def.el (ilisp-*version*): set version marker to 5.11.

2001-04-05  Paolo Amoroso  <amoroso@mclink.it>

        * docs/ilisp.texi (FTP and Web directions): added URL of ILISP's
        filelist at SourceForge and new index entry. Minor reformatting.

        * GETTING-ILISP: added URL of ILISP's filelist at
        SourceForge. Minor reformatting.

2001-04-04  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (symbol-not-present): Strip parens from the
	module names; C-u M-x arglist-lisp would parse them as an arglist.

2001-04-04  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (How to run a Lisp process using ILISP, ILISP
	Customization): added info on MzScheme and DrScheme-jr.

2001-04-03  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi: updated date and version info.

2001-04-02  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-sch.el (mzscheme): Provide symbol completion for MzScheme. 

	* mzscheme-ilisp.scm: New file, MzScheme support.
	
	* ilisp-hi.el (ilisp-arglist-message-lisp-space): Fixed last
	change: always insert the space, even if no electric behaviour is
	available. 

2001-03-29  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-mod.el (ilisp): ilisp-init-hook replaced by
	ilisp-init-hook-local.

	* ilisp-dia.el (setup-ilisp): ilisp-init-hook replaced by
	ilisp-init-hook-local. Default ilisp-init-hook-local hook now runs
	hooks on ilisp-init-hook, too.

	* ilisp-def.el (ilisp-init-hook): ilisp-init-hook has become a
	DEFVAR.
	(ilisp-init-hook-local): new variable ilisp-init-hook-local, that
	replaces the old DEFLOCAL ilisp-init-hook. Thus fixing bug
	reported by Hannu Koivisto (cmucl-imp 2001-03-16).

	* ilisp-hi.el (default-directory-lisp): test if directory-command
	is bound, if default-directory is set.

2001-03-27  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-hi.el (ilisp-arglist-message-lisp-space): don't try to
	display an arglist, after a #+ or #- form, e.g. after a
	"feature-switch" form.

2001-03-27  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (ilisp-arglist, ilisp-help): Be more verbose
	when the symbol is undefined.
	(ilisp-in-package): Use the (guile-ilisp) module in every module
	switched to. This enables the ILISP commands there.

2001-03-21  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (doc->arglist): Parse multi-line arglists in
	procedure documentation that has been passed through TeXinfo (Guile
	1.4.1).

2001-03-13  Martin Atzmueller  <martin@atzmueller.net>

	* sblisp.lisp ("POP"): tweaked dynamic code (using the new
	macros).

	* cmulisp.lisp (arglist): old feature-based stuff replaced
	with even more dynamic code based on the new macros (below).
	(source-file): ditto.
	(fun-defined-from-pathname): ditto (the-function-if-defined).
	(fun-defined-from-pathname): ditto (the-symbol-if-defined).

	* cl-ilisp.lisp: old version of print-function-arglist (in
	comments) removed.
	(ilisp-print-info-message): old debugging code (in comments)
	removed.
	(the-function-if-defined): new macro: instead of testing on
	compiler-features in *features*,
	this macro tests on the presence of certain functions.
	(the-symbol-if-defined): new macro: instead of testing on
	compiler-features in *features*,
	this macro tests on the presence of certain symbols.
	Both help SBCL and CMUCL in curing some versioning differences.

	* sblisp.lisp: old version of print-simple-source-info
	(in comments) removed.

	* cmulisp.lisp: old version of print-simple-source-info
	(in comments) removed.

2001-03-12  Martin Atzmueller  <martin@atzmueller.net>

	* sblisp.lisp ("POP"): tweaks.
	  Old version of arglist (in comments) removed.
	  Old version of source-file (in comments) removed.

        * cmulisp.lisp (patch contributed by Hannu Koivisto):
          (arglist) CMU17 read-time conditional stuff replaced with
          a more dynamic feature testing code.  Also few cosmetic fixes.
          Old version of arglist (in comments) removed.
	  Old version of source-file (in comments) removed.

2001-03-12  Paolo Amoroso  <amoroso@mclink.it>

	* INSTALLATION (log message): removed the whole contents of the
	INSTALLATION file, which was accidentally added to the log
	message during the previous commit. Sorry :-(

        * INSTALLATION (Harlequin/Xanalys LispWorks): added info on the
        LWW 4.1.20 patch bundle (info contributed by Carl Shapiro
        <cshapiro@panix.com>).

2001-03-02  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (ilisp-help), ilisp-sch.el (guile): Get
	documentation for the symbol from the right module.

2001-03-01  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (doc->arglist, ilisp-arglist): Minor fixes
	related to arglists.

2001-02-20  Paolo Amoroso  <amoroso@mclink.it>

	* cl-ilisp.lisp (get-function-arglist): fixed a bug that prevented
	the most appropriate arglist function from being selected with
	LispWorks, and probably also GCL (fix contributed by Alain Picard
	<Alain.Picard@memetrics.com>).

2001-02-14  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-cmu.el (ilisp-directory-command,
	ilisp-set-directory-command): added to fix the broken behavior of
	`default-directory-lisp' with CMUCL (fix contributed by Tijs van
	Bakel <smoke@wanadoo.nl>).

2001-02-12  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-hi.el (ilisp-arglist-message-lisp-space): don't try to
	display arglist if there is no inferior Lisp running (patch
	contributed by Hannu Koivisto <azure@iki.fi>).

2001-01-24  Martin Atzmueller  <martin@atzmueller.net>

	* docs/ilisp.texi (Package Commands): updated documentation, since
	ilisp-package-regexp is gone, this has become
	ilisp-hash-form-regexp.

2001-01-23  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-def.el (ilisp-*arglist-message-lisp-space-p*):
	documentation update.

2001-01-22  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-mod.el (lisp-command-args): removed commented out version.

2001-01-21  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-snd.el (comint-send-code-init-function): new function,
	moved out of ilisp-init-internal for doing init stuff in the
	comint process buffer.

	* ilisp-out.el:
	  * (ilisp-desired-height) output sink buffer's window is now searched
	    from all frames because a separate typeout frame might be in use.
	  * (ilisp-shrink-wrap-window-and-frame)
	    * Window size modification code removed because there's only one
	      window anyway and an attempt to resize it results to an error.
	    * when+not -> unless.
	  * (ilisp-display-buffer-in-typeout-frame)
	    * ignore-errors workaround removed from around
	      ilisp-shrink-wrap-window-and-frame call since the real problem
	      is now (hopefully) fixed.
	    * Cosmetic changes: debug code comments removed and some closing
	      parens moved away from their own lines.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>)

	* ilisp-snd.el: cosmetic changes: removed some unnecessary comments,
	moved some closing parens away from their own lines.

	* ilisp-snd.el:
	  * (lisp-buffer-package-internal)
	    * Allow nil when fetching the value of the ilisp-hash-form-regexp
	      variable.
	    * If ilisp-hash-form-regexp is nil, assume that the system doesn't
	      know about packages and return nil as the package.
	  * Old implementation of lisp-buffer-package-internal in comments
	    removed; it's still available via CVS if someone really needs it for
	    documentation purposes.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>)

	* ilisp-sch.el:
	  * (guile) Setting of ilisp-package-regexp removed as it's not
	    used anymore.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>)

	* ilisp-doc.el:
	  * (ilisp-documentation) References to ilisp-package-regexp replaced
	    with ilisp-hash-form-regexp; it's used for the same purpose
	    ilisp-package-regexp was.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>)

	* ilisp-def.el:
	  * (ilisp-in-package-command-string) New definition for an ilisp-local
	    variable that was in use already.
	  * (ilisp-defpackage-command-string) Ditto.
	  * (ilisp-hash-form-regexp) Ditto.
	  * (ilisp-package-regexp) Removed as it's not used anymore.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>)

	* ilisp-cl.el:
	  * (common-lisp) Setting of ilisp-package-regexp removed as it's not
	    used anymore.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>)

2001-01-18  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-out.el (ilisp-display-buffer-in-typeout-frame): if there
	exists a cached frame, just raise it.

	* ilisp-out.el (ilisp-bury-output): erase the buffer used. If
	'this-command is arglist-message-lisp-space, don't delete the
	sinks frame, to cache it. (this helps when using some
	window-managers like KDE in focus-management).

	* ilisp-sch.el:
	  - (scheme) ilisp-block-command modified to ensure ILISP never
	  passes empty blocks to Scheme as they are not allowed by R5RS.
	  - (guile) Guile-specific empty-block -prevention removed.
	  - (mzscheme) New dialect definition.
	  - (drscheme-jr) Ditto.
	  (patches contributed by Hannu Koivisto  <azure@iki.fi>).

	* ilisp-mod.el (lisp-command-args) Reimplemented (badly, but better than
	  nothing) to support quoted program name and arguments with
	  spaces in them.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>).

	* ilisp-mak.el:
	  - Cosmetic changes: useless comments removed, some fixed a bit,
	    useless progn removed, (setq x (cons .. x)) -> (push .. x), excess
	    newlines removed, etc.
	  - Compatibility files are now actually compiled: byte-compile changed
	    to byte-compile-file for them.
	  - If XEmacs, ilxemacs is compiled instead of illuc19.	 Incorrect
	    comment related to this removed; illuc19 and ilxemacs are not linked
	    in the current version of ILISP.
	  - Error message typo fix.
	  (patches contributed by Hannu Koivisto  <azure@iki.fi>).

	* ilisp-hi.el (ilisp-arglist-message-lisp-space)
	    ilisp-print-info-message-command needs to be something useful
	    for arglist message to be printed.
	(patch contributed by Hannu Koivisto  <azure@iki.fi>).

	* ilisp-def.el (ilisp-print-info-message-command) New definition
	    for an ilisp-local variable that was in use already.
	    (patches contributed by Hannu Koivisto  <azure@iki.fi>).
	
	* ilcompat.el:
	  - Now requires cl.
	  - Now provides ilcompat instead of compat.
	  - Cosmetic fixes: commenting more consistent with other files.
	  - Work-around for last bug in Emacs 19.34 < x < ?  Nothing in ILISP
	    as of this writing faces this, I think, but it's easy to bump into
	    with, for example, destructuring-bind, so better be safe than
	    sorry.
	    (patches contributed by Hannu Koivisto  <azure@iki.fi>).

	* ilisp-hi.el (ilisp-compile-buffer): display the result of
	compiling a buffer.

	* sblisp.lisp (arglist): reworked my previous patch on that.

	* comint-ipc.el (comint-sender): sends are logged now (patch
	contributed by John M. Adams).

	* ilisp-hi.el (ilisp-compile-buffer): compile-buffer did not work
	because deactivate-mark has no function definition in XEmacs
	(patch contributed by John M. Adams).

2001-01-16  Martin Atzmueller  <martin@atzmueller.net>

        * ilisp-out.el: ILISP Output and ILISP Arglist Output frames are
          no longer created at load time because they may not be used at
          all and they are created on-demand anyway (patch contributed by
	  Hannu Koivisto  <azure@iki.fi>).

2001-01-09  Martin Atzmueller  <martin@atzmueller.net>

	* sblisp.lisp (arglist): fixed a bug, when we already have the
	correct symbol.

2001-01-07  Martin Atzmueller  <martin@atzmueller.net>

	* Welcome: corrected my email contact address.

	* ilisp-sbcl.el (sblisp): cleaned up a comment.

	* sblisp.lisp ("POP" debug command): reworked this,
	since the SBCL debugger	code has changed a bit.

	* sblisp.lisp (fun-defined-from-pathname): comment cleanup.

2001-01-05  Paolo Amoroso  <amoroso@mclink.it>

        * docs/ilisp.texi (Acknowledgements): added Craig Brozefsky.
        Updated date info.

        * Welcome: added Craig Brozefsky to the list of maintainers.

2000-12-26  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-sch.el, guile-ilisp.scm: Rewrote the Guile arglist
	fetching code, which is more clever now; tested with Guile 1.3.4,
	1.4 and 1.4.1.

	* ilisp-hi.el (ilisp-arglist-message-lisp-space): Don't try to get
	the arglist if point is directly behind a semicolon; the comment
	character would be passed to the Lisp, causing confusion.

2000-12-26  Paolo Amoroso  <amoroso@mclink.it>

	* INSTALLATION (TIPS): created section and added tip on input
        focus with Enlightment/Gnome (suggested by Marco Antoniotti
        <marcoxa@cons.org>).

2000-12-21  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* guile-ilisp.scm (ilisp-source-file): Made search for source
	properties more reliable.

	* ilisp-low.el (lisp-def.el): Handle some Scheme dialects' curried
	definitions like (define ((f a) b) ...).

2000-12-07  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-src.el (edit-definitions-lisp): When using tags, use a
	tags loop with the locator instead of find-tag if SEARCH is
	true. (There are no tags for function calls, only for definitions,
	so search all tagged files for calls.)

	* ilisp-src.el (ilisp-locate-scheme-calls): Don't expect package
	prefixes when locating calls; Scheme does not have package
	prefixes.

2000-12-04  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-sch.el (scheme), ilisp-src.el
	(ilisp-locate-scheme-definition, ilisp-locate-scheme-calls): New
	Scheme source locators. The standard locators would fail on
	"(define (thunk) ....)"  and report "(define (procedure ...) ...)" 
	as a procedure call.

	* ilisp-sch.el (guile), guile-ilisp.scm (ilisp-source-file): 
	Get the source file of a definition from the interpreter.
	
	* guile-ilisp.scm (ilisp-trace, ilisp-untrace): I broke these in
	the last change, fixed.

2000-12-03  Paolo Amoroso  <amoroso@mclink.it>

	* allegro.lisp (allegro-v5.0): added support for ACL 6.0 and
	updated the comment (fix suggested by Larry Hunter
	<Larry.Hunter@uchsc.edu>).

2000-11-30  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* docs/ilisp.texi: Removed comment about Guile support being
	incomplete. (It has been completed.)

2000-11-30  Paolo Amoroso  <amoroso@mclink.it>

	* Welcome: added info about the SourceForge site and mailing
        lists. Added Matthias Koeppe to the list of
        maintainers. Reformatted.

2000-11-30  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-sch.el (guile), guile-ilisp.scm: Updated for Guile 1.4.1.
	Handle the case of unregistered modules.  Send source position
	to the interpreter when evaluating.

	* ilisp-ext.el: Don't clobber C-M-l and C-M-r keybindings in FSF
	compliant mode. Those are bound to `reposition-window' and
	`isearch-backward-regexp', respectively, at least in GNU Emacs 20.

	* ilisp-def.el (ilisp-eval-command, ilisp-defvar-command): 
	Format strings now take an extra parameter, source LINE. 
	* ilisp-hi.el (lisp-send-region): Send source line to inferior
	lisp. 

2000-11-29  Matthias Koeppe  <mkoeppe@mail.math.uni-magdeburg.de>

	* ilisp-snd.el (ilisp-check-package-advanced): Don't signal an
	error if ilisp-no-package-in-core-regexp is nil.

2000-11-15  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (Files and directories): added description of the
	  behavior of `load-file-lisp' with .system files.

2000-11-14  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (How to get the latest ILISP distribution):
	  added information about the SourceForge site and mailing lists.
	  (FTP and Web directions, Acknowledgements): added reference to
	  the mailing lists.
	  Updated version info.

	* docs/README: removed redundant version number; minor formatting
	  changes.

	* GETTING-ILISP: added reference to the mailing lists; minor
	  formatting changes.

	* README: updated version number; changed Harlequin to
	  Xanalys/Harlequin; added information about the
	  SourceForge site and mailing lists; minor formatting changes.

2000-11-12  Paolo Amoroso  <amoroso@mclink.it>

	* Welcome: removed Rick Campbell from the list of current
	  maintainers because he no longer works on ILISP.

2000-11-06  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-cl.el (common-lisp): changed ilisp-hash-form-regexp, so
	that cl:in-package and cl:defpackage is understood as well as
	their variants, with or without the explicit package-marker.

2000-11-06  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-sbcl.el (sblisp-source-directory-regexp,
	  sblisp-local-source-directory): added back because the file
	  includes other references to the variables and since I don't
	  have SBCL, I don't know what's the best approach to removing the
	  obsolete support for source directory.

2000-11-06  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-sbcl.el (ilisp-sblisp-init-file): added comment on init
	  file source extension.
	  (sblisp): added `ilisp-directory-command' and
	  `ilisp-set-directory-command'. William says: "This is a quick
	  hack to make things work for now. In a later version of SBCL I'd
	  like to have a cleaner way of doing this, without reaching into
	  a private implementation package for unsupported functions, and
	  perhaps interacting with CL:*DEFAULT-PATHNAME-DEFAULTS* the way
	  that the ANSI spec suggests too."
	  (sblisp-source-directory-regexp, sblisp-local-source-directory):
	  removed because unsupported by SBCL.
	  (patches contributed by William Harold Newman
	  <william.newman@airmail.net>).
	
2000-10-08  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-hnd.el (ilisp-handler): fix call to ilisp-output-buffer.

2000-10-07  Martin Atzmueller  <martin@atzmueller.net>
	
	* ilisp-sbcl.el (sblisp): new ilisp-error-regexp.
	
	* ilisp-snd.el (ilisp-check-package-advanced): Due to the
	'in-package behavior (see below) check for errors, and fix them.
	If the package is not found, the fallback-package will be used.
	Display status after a search for package. 
	
	* ilisp-cl.el (common-lisp): ignoring errors in
	ilisp-package-command _does_ not help any ANSI-CL! It is basically
	redundant. This is because of the complicated behavior of
	'in-package (see Hyperspec). 'in-package is implemented as a macro
	in ANSI-CL, and might expand into a '(eval-when (...) something,
	and the error will be thrown, nevertheless of any 'ignore-error
	handler! Modified 'ignore-error -form, because there were some
	strange things happening testing it in CLISP and SBCL.
		
2000-10-03  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-snd.el (lisp-buffer-package-internal): Doesn't try to find
	  unfinished (in-package <nothing-here>) forms when there's
	  nothing to search in. This fixes a bug that broke everything
	  that uses lisp-buffer-package, e.g. set-buffer-package-lisp and
	  evaluation commands (patch contributed by Hannu Koivisto
	  <azure@iki.fi>).

2000-10-01  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-cl.el:
          o (common-lisp):
            o ilisp-package-command now ignores errors.
            o Default value for new ilisp-no-package-in-core-regexp
	      variable.
            o Ditto for ilisp-fallback-package.
	  (patches contributed by Hannu Koivisto <azure@iki.fi>)

	* ilisp-def.el:
          o (ilisp-no-package-in-core-regexp): New local variable.
          o (ilisp-fallback-package): Ditto.
	  (patches contributed by Hannu Koivisto <azure@iki.fi>)

	* ilisp-snd.el:
          o (ilisp-check-package-advanced): If specified for the current
            dialect, ilisp-no-package-in-core-regexp is used to check if
            ilisp-package-command perhaps failed in a way which indicates
            that the package is not in core.  If this is the case,
	    fallback package is returned alongside a new second return
	    value that indicates if the package was not found in core.
          o (lisp-buffer-package-internal): The new second return value of
            ilisp-check-package-advanced is now considered and it's
            possibly propagated to the should-not-cache-p second return
            value of this function.
          o (ilisp-buffer-package-internal):
            o Dummy argument removed.
            o Now returns both a package and a flag suggesting whether
              it's ok to cache the package or not.
            o Doesn't break with unfinished (in-package <nothing-here>)
              forms; in such a case the second return value indicates
              that the returned package should not be cached.
            o Cosmetic if -> when fix.
          o (lisp-buffer-package):
            o Removed (message "") with no known useful purpose.
            o Merged the cond clause of lisp-dont-cache-package being true
              and the default clause.
            o Now considers the flag returned by
	      lisp-buffer-package-internal as its second value.
	  (patches contributed by Hannu Koivisto <azure@iki.fi>)

	* ilisp-hi.el:
          o (ilisp-arglist-message-lisp-space): Now proceeds even if the
	    initial lisp-buffer-packge call doesn't cache the buffer
	    package to buffer-package.
          o (default-directory-lisp): default-direcotory ->
	    default-directory
          o (load-file-lisp):
            o if -> when and if+not -> unless cosmetic fixes.
            o For <whatever>.system files, no compilation or loading of
              possibly existing <whatever>.<binary extension> is
	      attempted.
	  (patches contributed by Hannu Koivisto <azure@iki.fi>)

2000-09-13  Atzmueller  <martin@atzmueller.net>

	* sblisp.lisp (ilisp-compile): special case is not necessary
	anymore. removed	

	* cl-ilisp.lisp (ilisp-compile): cleanup.

2000-09-11  Atzmueller  <martin@atzmueller.net>

	* ilisp-dia.el (setup-ilisp): use
	ilisp-*enable-ilisp-special-frame-p*.
	If T, push ilisp-buffer on 'special-display-buffer-names.

	* ilisp-def.el (ilisp-*enable-ilisp-special-frame-p*): new
	variable, put ilisp-buffer-name in special-display-buffer-names,
	if set to T.

2000-09-10  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-out.el: partly incorporated M. Koeppes patch.
	(see 'special-display-buffer-names).
	Kept `ilisp-*arglist-message-switch-back-p*'; if we don't put the
	ilisp-buffer in 'special-display-buffer-names then this is still
	necessary. Might add new variable
	ilisp-*ilisp-buffer-display-special*.

	* ilisp-snd.el (lisp-string-to-symbol): symbol-completion in
	source buffers was broken due to 'ilisp-package-seperator-regex as
	a local variable. fixed.
	
	* Makefile (compile): add '--force' option when linking 'hyperspec.el'.
	
	* ilisp-out.el: (ilisp-make-output-frame)
	incorporated patch by Will Deakin as of August 03.

2000-09-09  Martin Atzmueller  <martin@atzmueller.net>

	* ilisp-hi: (ilisp-arglist-message-lisp-space) handle the special
	case #\".

	* ilisp-sbcl: (sblisp-program) invoke sbcl with --noinform, to
	prevent printing of startup-message.	

2000-08-18  Paolo Amoroso  <amoroso@mclink.it>

	* ChangeLog (2000-08-17, ilisp-imenu.el): fixed wrong attribution
	  of the patch to `imenu--completion-buffer' from Matthias Koeppe
	  to Colin Walters <walters@cis.ohio-state.edu>.

	* ilisp-imenu.el: file unchanged; the commit log of the patch to
	  `imenu--completion-buffer' on 2000-08-17 (ilisp-imenu.el 1.2)
	  incorrectly attributed it to Matthias Koeppe. It was instead
	  contributed by Colin Walters <walters@cis.ohio-state.edu>.

2000-08-17  Paolo Amoroso  <amoroso@mclink.it>

	* lispworks.lisp (ilisp-source-files): fixed
	  `edit-definitions-lisp' failure when using logical pathnames
	  (patch contributed by Alain Picard
	  <Alain.Picard@memetrics.com>).

	* Makefile (FaslFiles, clean): added Lisp fasl files removal.

	* ilisp.emacs: removed obsolete reference to TMC completion
	  package FTP download (it is included with recent versions of
	  Emacs).

	* ilisp-imenu.el (imenu--completion-buffer): fixed incorrect
	  reference to `string-equal' (patch contributed by Colin Walters
	  <walters@cis.ohio-state.edu>).

2000-08-02  Paolo Amoroso  <amoroso@mclink.it>

	* ACKNOWLEDGMENTS: updated and sorted alphabetically the list of
	  names.

	* docs/ilisp.texi (Acknowledgements): added William Deakin and
	  Matthias Koeppe.

	* README: added version number and reference to a group of
	  maintainers.

	* GETTING-ILISP: replaced unnecessary reference to explicit
	  version numbers in file names--e.g. 5.9--with generic
	  ones--i.e. x.y.z.

	* extra/README: removed references to version number and date;
	  added hint to check INSTALLATION; fixed capitalization of
	  HyperSpec and added reference to Xanalys.

2000-07-31  Paolo Amoroso  <amoroso@mclink.it>

	* INSTALLATION: added information on the reference card and
	  setting LN and HyperSpec in Makefile.

	* docs/ilisp.texi (Configuration and compilation): added
	  information on setting LN and HyperSpec in Makefile.

	* Makefile: added commands to link, compile and remove the
	  HyperSpec access package. Now compilation creates
	  `extra/hyperspec.el' as a link/copy of the appropriate package.

	* extra/hyperspec.el: removed to let the makefile create a
	  link/copy to the appropriate HyperSpec package during
	  compilation.

2000-07-27  Paolo Amoroso  <amoroso@mclink.it>

	* Welcome: updated list of maintainers.

2000-07-24  Paolo Amoroso  <amoroso@mclink.it>

	* Makefile (DocFiles): added `docs/ilisp-refcard.tex'.
	
	* docs/ilisp.texi (Configuration and compilation): updated for the
	  reference card.

	* docs/README: updated for ilisp-refcard.tex and fixed a couple of
	  typos.

	* docs/Makefile: added support for ilisp-refcard.tex compilation.
	
	* docs/ilisp-refcard.tex: initial revision.
	
	* docs/ilisp-refcard.tgz: removed for keeping only
	  ilisp-refcard.tex.

2000-07-19  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (Files of ILISP): clarified entry for *.lisp and
	  added *.scm entry. Updated version info of the document.
	
	* Makefile (clean): added TAGS among the files to remove.

	* ilisp-snd.el (lisp-string-to-symbol): test
	  `ilisp-package-separator-regexp' (patch contributed by Matthias
	  Koeppe <mkoeppe@mail.math.uni-magdeburg.de>).
	
	* ilisp-sch.el (guile): improved error handling for Guile (patch
	  contributed by Matthias Koeppe
	  <mkoeppe@mail.math.uni-magdeburg.de>).
	
	* ilisp-def.el (ilisp-package-separator-regexp): turned into a
	  local variable (patch contributed by Matthias Koeppe
	  <mkoeppe@mail.math.uni-magdeburg.de>).
	
	* ilisp-cl.el (common-lisp): added
	  `ilisp-package-separator-regexp' (patch contributed by Matthias
	  Koeppe <mkoeppe@mail.math.uni-magdeburg.de>).

2000-07-13  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (Files of ILISP): uncommented ilisp-cmp.el
	  entry.

	* ilisp-out.el (ilisp-write-string-to-buffer (ilisp-output-sink
	  string)): ensure that the buffer associated to
	  `ilisp-output-sink' exists. The old code only worked for the
	  standard display functions due to their side effects (patch
	  contributed by Matthias Koeppe
	  <mkoeppe@mail.math.uni-magdeburg.de>).

2000-07-12  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-cmp.el (complete-lisp): fixed bug with both XEmacs and GNU
	  Emacs, i.e. doing completion with M-TAB on an empty command line
	  produced the error "Wrong type argument:
	  number-char-or-marker-p,nil" (XEmacs), or "Wrong type argument:
	  number-or-marker-p, nil" with GNU Emacs (patch contributed by
	  William Deakin <w.deakin@pindar.com>).

2000-07-06  Paolo Amoroso  <amoroso@mclink.it>

	* .ilisp: removed obsolete version of ilisp.emacs.

2000-07-03  Paolo Amoroso  <amoroso@mclink.it>

	* .ILISP.prcs-aux, ILISP.prj: removed PRCS auxiliary files no
	  longer needed with CVS.
	
2000-06-30  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-sch.el (guile): fixed malformed
	  `ilisp-package-separator-regexp' assignment (Paolo: pay more
	  attention when committing a change).

2000-06-30  Paolo Amoroso  <amoroso@mclink.it>

	* INSTALLATION (LispWorks): added info on saving an image without
	  the GUI and making the system work with ILISP under Windows and
	  Linux (contributed by Martin Simmons <martin@harlequin.co.uk>).

2000-06-29  Paolo Amoroso  <amoroso@mclink.it>

	* ilisp-sch.el (guile): sets `ilisp-package-separator-regexp' so
	  that it never matches (patch contributed by Matthias
	  Koeppe <mkoeppe@mail.math.uni-magdeburg.de>).

	* ilisp-snd.el (lisp-string-to-symbol): uses
	  `ilisp-package-separator-regexp' instead of its hardcoded
	  value in order to work with Guile, and possibly other Schemes
	  (patch contributed by Matthias Koeppe
	  <mkoeppe@mail.math.uni-magdeburg.de>).

	* ilisp-def.el (ilisp-package-separator-regexp): added (patch
	  contributed by Matthias Koeppe
	  <mkoeppe@mail.math.uni-magdeburg.de>). Matthias suggested
	  `deflocal', I changed it to `defvar' as a temporary workaround
	  because of a bug. After making each dialect set it to the
	  appropriate value, the declaration can be changed to
	  `deflocal'.
	
2000-06-27  Paolo Amoroso  <amoroso@mclink.it>

	* guile-ilisp.scm: support functions for Guile, which also work
	  with Guile 1.4 (new file contributed by Matthias Koeppe
	  <mkoeppe@mail.math.uni-magdeburg.de>).

	* ilisp-sch.el (guile): improved Guile support (patch contributed
	  by Matthias Koeppe <mkoeppe@mail.math.uni-magdeburg.de>).

2000-05-07  Martin Atzmueller  <marty@cs.utexas.edu>

	* sblisp.lisp (source-file): fixed a typo.

	* ilisp-out.el (ilisp-bury-output): incorporated patch by Tim Moore
          in #'ilisp-bury-output: if the output-window was *active* it
          could not be deleted.

	* ilisp-cmp.el (ilisp-complete): if the package of a symbol to
	  be completed was not known an error was _not_ propagated in the
	  right place. fixed.

	* lispworks.lisp: integrated patch by Martin Simmons. UNTESTED. I
	  can't install Lispworks Personal, b/c of failed Deps!

	* ilfsf19.el: integrated patch by Martin Simmons for Emacs
	  19.x. UNTESTED b/c I don't have Emacs19.

	* Makefile: removed 'custom-ilisp.elc' when building a loadfile.

	* ilisp.el: removed load entry for 'custom-ilisp'.

	* ilisp-mak.el: removed load/compile entry for
	'custom-ilisp'. This screwed up when using
	ilisp-*use-fsf-compliant-keybindings*.

2000-05-03  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi: Replaced occurrences of `Harlequin' with
	`Xanalys/Harlequin'. "Configuration and compilation": Fixed a typo.

2000-04-29  Paolo Amoroso  <amoroso@mclink.it>

	* INSTALLATION: Added tips for making ILISP work with LispWorks
	(contributed by Martin Simmons <martin@xanalys.com>).

2000-04-26  Paolo Amoroso  <amoroso@mclink.it>

	* docs/ilisp.texi (Files of ILISP): Uncommented completer.el;
	added custom-ilisp.el; fixed Common Lisp spelling in the
	ilisp-cl.el entry; removed imenu.el.

	* docs/ilisp.texi: Added entry for the dir file (suggestion by
	Matthias Hoelzl <hoelzl@informatik.uni-muenchen.de>).

2000-04-21  Paolo Amoroso  <amoroso@mclink.it>

	* docs/doc-changes.txt: Restored information lost in the move to
	SourceForge. Added warning stating that the file will no longer be
	maintained.

	* docs/ilisp.texi: Restored changes made in Jan-Feb 2000 and lost
	in the move to SourceForge (see docs/doc-changes.txt). Renamed to
	the ILISP-*VARNAME* convention some variable names missed in the
	transition to ILISP 5.10.1. Fixed the appearance of control
	characters and command names in section "Switching between
	interactive and raw keyboard modes".

	* INSTALLATION: Restored information lost in the move to
	SourceForge (replaced unnecessary references to explicit version
	numbers in file names--e.g. 5.9.4--with generic
	ones--i.e. x.y.z). Renamed variable names to the ILISP-*VARNAME*
	convention.
	
2000-04-19  Marco Antoniotti  <marcoxa@parades.rm.cnr.it>

	* docs/ilisp.texi (Acknowledgements): Added Karl Fogel.

	* ilisp-mak.el (top level): added load/compile entry for
	'custom-ilisp'.

	* ilisp.el (load): added loading of 'custom-ilisp'.

2000-03-26  Marco Antoniotti  <marcoxa@parades.rm.cnr.it>

	* ilisp-dia.el (setup-ilisp): Changed value of
	'ilisp-symbol-delimiter'.

	* ilisp-def.el (ilisp-bindings-*bind-right-bracket-p*):  Added
	variable to control binding of ']' to 'close-all-lisp'.
	Modified all the places where the above binding is
	set. I.e. 'ilisp-key.el' and 'ilisp-ext.el'.

	* extra/hyperspec.el (common-lisp-hyperspec-root): updated default
	link to new
	'http://www.xanalys.com/software_tools/reference/HyperSpec/'

	* ilcompat.el (+ilisp-emacs-version-id+): Minimum hack to take
	into account version 21 of Xemacs.  Of course the real thing would
	be to actually upgrade the whole 'compatibility' file support.

2000-02-03  Karl Fogel  <kfogel@onshore.com>

	* doc/ilisp.texi (Keybindings): new node, document the
	FSF-compliant keybinding situation.
	(Miscellany): removed mention of ] for `close-all-lisp' (see
	change to `lisp-bindings' in ilisp-key.el, below).

	* ilisp-def.el: (ilisp-prefix): Set to C-c if above new defcustom
	is non-nil, else set to C-z if above is nil or unbound.
	(ilisp-use-fsf-compliant-keybindings): New defcustom.
	(ilisp-use-fsf-compliant-keybindings): 

	* ilisp-key.el: (ilisp-safe-define-key): New func, binds a key to
	a command in keymap, using new optional arg FSF-KEY if
	`ilisp-use-fsf-compliant-keybindings' is non-nil.
	
	(ilisp-define-ilisp-key-for-map): Replaces `ilisp-defkey'.  Use
	ilisp-safe-define-key, passing new optional argument to it.
	Changed name partly because this function does something new now,
	and partly to avoid confusion with `defkey-ilisp', which has an
	entirely different purpose.  All callers changed.
	
	(lisp-bindings): Use above new functions where appropriate.
	Pass `no-fsf-key' where no worthwhile binding is possible under
	the FSF-approved keyspace.
	Don't bind ] to `close-all-lisp' (see comment in source).

	(defkey-ilisp): take new optional FSF-KEY arg, similarly to
	`ilisp-define-ilisp-key-for-map' (see above).

	* ild.el: pass `no-fsf-key' arg to all keybinding calls here.
